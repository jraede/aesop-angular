/*! An HTML/JS/CSS app - v0.0.1 - 2014-03-07 */
(function(){angular.module("aesop",[]),angular.module("aesop").factory("$aesop",["$window",function(a){return a.Aesop}]),angular.module("aesop").directive("aesop",["$compile","$timeout",function(a){var b;return b={scope:{tools:"=",ngModel:"="},link:function(b,c,d){var e,f;return f=b.tools,"string"==typeof f&&(f=f.split(",")),b.toolbar=f,e=a('<textarea ng-model="ngModel"/>')(b),c.append(e),b.element=e,b.stylesheet=d.stylesheet,b.$initialize()},controller:["$scope","$aesop","$compile","$timeout","$rootScope",function(a,b,c,d,e){var f=this;a.$initialize=function(){return f.editor=new b.Editor(a.element,a.toolbar),f.editor.addWatcher(function(){return d(function(){return a.ngModel=f.editor.getContents()})}),a.stylesheet&&f.editor.addStylesheet(a.stylesheet),e.$broadcast("$editorReady"),a.$on("$destroy",function(){return f.editor.destroy(),f.editor=null})}}]}}]),angular.module("aesop").directive("aesopTool",["$timeout",function(a){var b;return b={scope:!0,require:"^aesop",link:function(b,c,d,e){return b.$on("$editorReady",function(){var f;return f=e.editor.getTool(d.aesopTool),b.active=!1,f.addWatcher(function(){return a(f.disabled?function(){return c.attr("disabled","disabled")}:function(){return c.attr("disabled",!1)}),a(f.active?function(){return b.active=!0}:function(){return b.active=!1})}),c.click(function(){return f.action()})})}}}])}).call(this);